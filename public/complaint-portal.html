<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Complaint Portal — COVIDAccountabilityNow</title>

  <!-- Load whichever stylesheet you use; keeping both is harmless -->
  <link rel="stylesheet" href="/site.css" />
  <link rel="stylesheet" href="/styles.css" />

  <!-- Turnstile widget -->
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" defer></script>
  <!-- App logic -->
  <script src="/app.js" defer></script>
</head>
<body>
  <header class="container">
    <nav class="navbar">
      <a href="/index.html">Home</a>
      <a aria-current="page" href="/complaint-portal.html">Portal</a>
      <a href="/about.html">About</a>
      <a href="/who-can-report.html">Who can report</a>
      <a href="/why-report.html">Why report</a>
      <a href="/our-story.html">Our story</a>
      <a href="/privacy.html">Privacy</a>
      <a href="/disclaimer.html">Disclaimer</a>
    </nav>
    <h1>Complaint Portal</h1>
    <p>Choose your state to open the official complaint page. You can optionally save a local copy and copy your text for your own records. We do not store your report.</p>
  </header>

  <main class="container">
    <form id="reportForm" class="card">
      <fieldset>
        <legend>Find your state board</legend>
        <label for="state">State</label>
        <select id="state" name="state" required>
          <option value="">Loading states…</option>
        </select>
        <div id="stateError" class="muted" role="alert" aria-live="polite"></div>
      </fieldset>

      <fieldset>
        <legend>Share your experience (optional)</legend>
        <label for="name">Name (optional)</label>
        <input id="name" name="name" type="text" placeholder="Your name…" />

        <label for="email">Email (optional)</label>
        <input id="email" name="email" type="email" placeholder="you@example.com" />

        <label for="details">Details</label>
        <textarea id="details" name="details" rows="6" placeholder="Describe what happened…"></textarea>
      </fieldset>

      <div class="stack-sm">
        <div class="cf-turnstile" data-sitekey="YOUR_TURNSTILE_SITE_KEY" data-theme="auto"></div>
        <div id="verifyStatus" class="muted" aria-live="polite">Verification prevents spam.</div>
      </div>

      <fieldset>
        <legend>Optional actions</legend>
        <label><input id="optDownload" type="checkbox" /> Save a local copy (JSON)</label>
        <label><input id="optCopy" type="checkbox" /> Copy text to clipboard</label>
      </fieldset>

      <button id="submitBtn" type="submit">Submit report</button>
    </form>

    <p class="muted" style="margin-top:1rem">
      Your state link is public information. Reports you submit here are stored privately in D1 for analysis (future update).
    </p>
  </main>

  <footer class="container muted">
    <a href="/privacy.html">Privacy</a> • <a href="/disclaimer.html">Disclaimer</a>
  </footer>
</body>
</html>
